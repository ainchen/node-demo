webpackJsonp([1],{"/ZN2":function(t,e){},"1loB":function(t,e){},GRCP:function(t,e,s){"use strict";var i={name:"ScrollView",props:["scrollX","scrollY","scrollTop","scrollLeft","scrollWidth"],components:{},data:function(){return{ST:0,SL:0,scrollActive:!1}},computed:{thickness:{get:function(){return void 0===this.scrollWidth?10:this.scrollWidth}},SX:{get:function(){return void 0!==this.scrollX&&"false"!=this.scrollX}},SY:{get:function(){return void 0!==this.scrollY&&"false"!=this.scrollY}}},methods:{VW:function(){return this.$refs.view?this.$refs.view.offsetWidth:0},VH:function(){return this.$refs.view?this.$refs.view.offsetHeight:0},CW:function(){return this.$refs.content?this.$refs.content.offsetWidth:0},CH:function(){return this.$refs.content?this.$refs.content.offsetHeight:0},proportion:function(t){switch(t){case"x":return this.VW()/this.CW()*100;case"y":return this.VH()/this.CH()*100;default:return 0}},tipScroll:function(t){switch(t){case"x":return this.SL/this.CW()*this.VW();case"y":return this.ST/this.CH()*this.VH();default:return 0}},scrollStart:function(t,e){t.stopPropagation();var s=t.clientX,i=t.clientY,n=this,o=function(t){n.$nextTick(function(){switch(e){case"x":n.SL+=(t.clientX-s)/(n.VW()/n.CW());break;case"y":n.ST+=(t.clientY-i)/(n.VH()/n.CH())}n.windowResize(),s=t.clientX,i=t.clientY})};document.addEventListener("mousemove",o),document.addEventListener("mouseup",function t(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",t),n.scrollActive=!1}),this.scrollActive=!0},mousewheel:function(t){var e=this;this.$nextTick(function(){t.wheelDelta<0?e.SY?e.ST+=100:e.SX&&(e.SL+=100):e.SY?e.ST-=100:e.SX&&(e.SL-=100)}),this.windowResize()},windowResize:function(){var t=this;this.$nextTick(function(){t.SL>t.CW()-t.VW()&&(t.SL=t.CW()-t.VW()),t.SL<0&&(t.SL=0),t.ST>t.CH()-t.VH()&&(t.ST=t.CH()-t.VH()),t.ST<0&&(t.ST=0)})}},watch:{distance:"windowResize"},beforeCreate:function(){},created:function(){this.SX&&void 0!==this.scrollLeft&&(this.SL=Number(this.scrollLeft)),this.SY&&void 0!==this.scrollTop&&(this.ST=Number(this.scrollTop))},beforeMount:function(){window.addEventListener("resize",this.windowResize)},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestory:function(){},destoryed:function(){window.removeEventListener("resize",this.windowResize)}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"view",staticClass:"scroll-view",on:{mousewheel:function(e){t.mousewheel(e)}}},[s("div",{ref:"content",staticClass:"scroll-content",style:{transform:"translate(-"+t.SL+"px,-"+t.ST+"px)"}},[t._t("default")],2),t._v(" "),t.SX&&t.VW()<t.CW()?s("div",{staticClass:"scroll-bar scroll-bar-x",class:{active:t.scrollActive},style:{height:t.thickness+"px"}},[s("div",{staticClass:"scroll-tip",style:{width:t.proportion("x")+"%",transform:"translateX("+t.tipScroll("x")+"px)"},on:{mousedown:function(e){t.scrollStart(e,"x")}}})]):t._e(),t._v(" "),t.SY&&t.VH()<t.CH()?s("div",{staticClass:"scroll-bar scroll-bar-y",class:{active:t.scrollActive},style:{width:t.thickness+"px"}},[s("div",{staticClass:"scroll-tip",style:{height:t.proportion("y")+"%",transform:"translateY("+t.tipScroll("y")+"px)"},on:{mousedown:function(e){t.scrollStart(e,"y")}}})]):t._e()])},staticRenderFns:[]};var o=s("VU/8")(i,n,!1,function(t){s("fA7q")},"data-v-6a61dbf2",null);e.a=o.exports},fA7q:function(t,e){},irrL:function(t,e){},keaF:function(t,e){},n74K:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Du/2"),n=s("dOCX"),o=s("GRCP"),a={name:"MenuTree",props:["item","level"],components:{},data:function(){return{}},computed:{menuActive:function(){return this.$store.state["menu-active"]},active:function(){return this.$store.state["menu-level"][this.treelevel]==this.data[n.a]},data:{get:function(){return void 0===this.item?{}:this.item}},treelevel:{get:function(){return void 0===this.level?0:Number(this.level)}},childrenHeight:function(){var t=this.getLenght();return this.menuActive?"calc(10px * "+(t>1?1:0)+" + (2rem + 23px) * "+(t-1)+")":"0px"}},methods:{menuClick:function(t){t.stopPropagation(),this.menuActive&&this.active?this.$store.state["menu-level"].splice(this.treelevel,this.$store.state["menu-level"].length):this.$store.commit(i.h,{item:this.data,level:this.treelevel}),this.data.children&&this.data.children.length>0?this.$store.commit(i.i,!0):(this.$store.commit(i.i,!1),this.$store.commit(i.g,this.data)),this.menuClickThen()},menuClickThen:function(){var t=this;this.$nextTick(function(){t.$emit("menuClick")})},getLenght:function(){var t=1;if(this.data.children&&this.active)for(var e=0;e<this.data.children.length;e+=1)t+=this.$refs["item_"+e]?this.$refs["item_"+e][0].getLenght():0;return t}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestory:function(){},destoryed:function(){}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"menuTree",class:{active:t.active},on:{click:function(e){t.menuClick(e)}}},[s("div",{staticClass:"menuItem"},[s("div",{staticClass:"icon"},[t.menuActive?[s("fa-icon",{attrs:{icon:["fas",t.data.icon]}})]:s("el-tooltip",{attrs:{effect:"dark",content:t.data.name,placement:"right"}},[s("fa-icon",{attrs:{icon:["fas",t.data.icon]}})],1)],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.menuActive,expression:"menuActive"}],staticClass:"text"},[t._v("\n\t\t\t"+t._s(t.data.name)+"\n\t\t")]),t._v(" "),t.data.children&&t.data.children.length>0?s("div",{directives:[{name:"show",rawName:"v-show",value:t.menuActive,expression:"menuActive"}],staticClass:"next"}):t._e()]),t._v(" "),t.data.children&&t.data.children.length>0?s("div",{directives:[{name:"show",rawName:"v-show",value:t.menuActive,expression:"menuActive"}],staticClass:"children",style:{height:t.childrenHeight}},t._l(t.data.children,function(e,i){return s("menu-tree",{key:i,ref:"item_"+i,refInFor:!0,attrs:{item:e,level:t.treelevel+1},on:{menuClick:t.menuClickThen}})})):t._e()])},staticRenderFns:[]};var l=s("VU/8")(a,r,!1,function(t){s("/ZN2")},"data-v-92b2e5d4",null).exports,c={name:"MenuUi",props:["param"],components:{ScrollView:o.a,MenuTree:l},data:function(){return{searchKey:"",list:[]}},computed:{active:function(){return this.$store.state["menu-active"]},menuIcon:function(){return this.active?["fas","search"]:["fas","bars"]},menu:function(){return this.$store.state.menu}},methods:{stopPropagation:function(t){t&&t.stopPropagation()},main:function(t){this.stopPropagation(t),this.$store.commit(i.i,!0)},search:function(){""==this.searchKey.replace(/\s/g,"")?this.list=this.menu:(this.list=[],Object(n.c)(this.menu,this.list,this.searchKey,0)),console.log(this.list),this.reset()},reset:function(){var t=this;setTimeout(function(){t.$refs.menu.windowResize()},1e3)}},watch:{searchKey:function(t,e){t!=e&&this.search()}},beforeCreate:function(){},created:function(){this.search()},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestory:function(){},destoryed:function(){}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{active:t.active},attrs:{id:"menu"},on:{click:function(e){t.main(e)}}},[s("div",{staticClass:"bars"},[s("div",{staticClass:"bar"},[s("fa-icon",{attrs:{icon:["fas","bars"]}})],1),t._v(" "),t.active?s("el-input",{attrs:{placeholder:"搜索关键字",clearable:""},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}},[s("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]):t._e()],1),t._v(" "),s("scroll-view",{ref:"menu",staticClass:"menuList",attrs:{"scroll-y":""}},[t._l(t.list,function(e,i){return s("menu-tree",{key:i,attrs:{item:e,level:e.level},on:{menuClick:t.reset}})}),t._v(" "),s("div",{staticClass:"line"})],2)],1)},staticRenderFns:[]};var d=s("VU/8")(c,u,!1,function(t){s("irrL")},"data-v-0b1cee03",null).exports,f=s("K2f2"),h={name:"Test",props:["param"],components:{},data:function(){var t=this;return{active:!1,historyStore:!1,dialogVisible:!1,dialogTitle:"",dialogType:"",dialogPass:{errPass:!1,oldPass:"",againPass:"",newPass:""},rulesPass:{oldPass:[{required:!0,validator:function(e,s,i){""===s.replace(/\s*/g,"")?i(new Error("请输入密码！")):t.dialogPass.errPass?(t.dialogPass.errPass=!1,i(new Error("密码错误！"))):(""!==t.dialogPass.againPass.replace(/\s*/g,"")&&t.$refs.dialogPass.validateField("againPass"),""!==t.dialogPass.newPass.replace(/\s*/g,"")&&t.$refs.dialogPass.validateField("newPass"),i())},trigger:"blur"}],againPass:[{required:!0,validator:function(e,s,i){""===s.replace(/\s*/g,"")?i(new Error("请再次输入密码！")):s.replace(/\s*/g,"")!==t.dialogPass.oldPass.replace(/\s*/g,"")?i(new Error("两次密码不一致！")):i()},trigger:"blur"}],newPass:[{required:!0,validator:function(e,s,i){""===s.replace(/\s*/g,"")?i(new Error("请输入新密码！")):s.replace(/\s*/g,"")===t.dialogPass.oldPass.replace(/\s*/g,"")?i(new Error("新密码与原密码一样！")):i()},trigger:"blur"}]}}},computed:{logo:function(){return this.$store.state.logo},title:function(){return this.$store.state.title},name:function(){return this.$store.state.userInfo.name},menuHistory:function(){return this.$store.state["menu-history"]}},methods:{userCommand:function(t){var e=this;switch(t){case"history":this.historyMore();break;case"updatePass":this.dialogVisible=!0,this.dialogType="updatePass",this.dialogTitle="修改密码";break;case"exit":Object(f.c)().then(function(t){e.$store.commit(i.b)},function(t){})}},userClick:function(t){this.active=t},menuClick:function(t){this.historyStore=!1,this.dialogVisible=!1,this.$store.commit(i.g,t)},historyMore:function(){this.dialogVisible=!0,this.dialogType="historyMore",this.dialogTitle="更多记录"},dialogCancel:function(){this.dialogVisible=!1},dialogConfirm:function(){var t=this;switch(this.dialogType){case"updatePass":Object(f.f)({oldPassword:this.dialogPass.oldPass,password:this.dialogPass.newPass,userId:this.$store.state.userInfo.userId}).then(function(e){200==e.code?(t.dialogVisible=!1,t.$message({type:"success",message:"修改成功！！",center:!0,showClose:!0})):(t.dialogPass.errPass=!0,t.$refs.dialogPass.validateField("oldPass"))},function(t){});break;default:this.dialogVisible=!1}}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestory:function(){},destoryed:function(){}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"logo",style:{backgroundImage:"url("+t.logo+")"}}),t._v(" "),s("div",{staticClass:"theme"},[t._v("\n\t\t"+t._s(t.title)+"\n\t")]),t._v(" "),s("div",{staticClass:"user",class:{active:t.active}},[s("el-dropdown",{attrs:{trigger:"click"},on:{"visible-change":function(e){t.userClick(e)},command:t.userCommand}},[s("div",{staticClass:"el-dropdown-link"},[s("div",{staticClass:"name"},[t._v(t._s(t.name))]),t._v(" "),s("fa-icon",{attrs:{icon:["fas","angle-down"]}})],1),t._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"history"}},[s("el-popover",{attrs:{placement:"right-start",trigger:"hover"},model:{value:t.historyStore,callback:function(e){t.historyStore=e},expression:"historyStore"}},[s("span",{attrs:{slot:"reference"},slot:"reference"},[t._v("\n\t\t\t\t\t\t\t历史记录\n\t\t\t\t\t\t\t"),s("fa-icon",{attrs:{icon:["fas","clock"]}})],1),t._v(" "),s("ul",{staticClass:"el-menu"},[t._l(t.menuHistory,function(e,i){return s("li",{key:i,staticClass:"el-dropdown-menu__item",on:{click:function(s){t.menuClick(e)}}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t")])}),t._v(" "),t.menuHistory.length<=0?s("li",{staticClass:"el-dropdown-menu__item",on:{click:function(e){t.historyStore=!1}}},[t._v("\n\t\t\t\t\t\t\t\t无记录\n\t\t\t\t\t\t\t")]):t._e(),t._v(" "),s("li",{staticClass:"el-dropdown-menu__item el-dropdown-menu__item--divided",on:{click:function(e){t.historyMore()}}},[t._v("\n\t\t\t\t\t\t\t\t更多记录\n\t\t\t\t\t\t\t")])],2)])],1),t._v(" "),s("el-dropdown-item",{attrs:{divided:"",command:"updatePass"}},[t._v("\n\t\t\t\t\t修改密码\n\t\t\t\t\t"),s("fa-icon",{attrs:{icon:["fas","key"]}})],1),t._v(" "),s("el-dropdown-item",{attrs:{divided:"",command:"exit"}},[t._v("\n\t\t\t\t\t安全退出\n\t\t\t\t\t"),s("fa-icon",{attrs:{icon:["fas","sign-out-alt"]}})],1)],1)],1)],1),t._v(" "),s("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,width:"32rem"},on:{"update:visible":function(e){t.dialogVisible=e}}},["updatePass"==t.dialogType?s("el-form",{ref:"dialogPass",attrs:{model:t.dialogPass,"label-width":"9rem","label-position":"right",rules:t.rulesPass,"status-icon":""}},[s("el-form-item",{attrs:{label:"原密码：",prop:"oldPass"}},[s("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.dialogPass.oldPass,callback:function(e){t.$set(t.dialogPass,"oldPass",e)},expression:"dialogPass.oldPass"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"再输一次：",prop:"againPass"}},[s("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.dialogPass.againPass,callback:function(e){t.$set(t.dialogPass,"againPass",e)},expression:"dialogPass.againPass"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"新密码：",prop:"newPass"}},[s("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.dialogPass.newPass,callback:function(e){t.$set(t.dialogPass,"newPass",e)},expression:"dialogPass.newPass"}})],1)],1):t._e(),t._v(" "),"historyMore"==t.dialogType?s("el-form",{attrs:{model:t.dialogPass,"label-width":"9rem","label-position":"right"}},[s("ul",{staticClass:"el-menu handle"},[t._l(t.menuHistory,function(e,i){return s("li",{key:i,staticClass:"el-dropdown-menu__item",on:{click:function(s){t.menuClick(e)}}},[t._v("\n\t\t\t\t\t"+t._s(i+1)+"、"+t._s(e.name)+"\n\t\t\t\t")])}),t._v(" "),t.menuHistory.length<=0?s("li",{staticClass:"el-dropdown-menu__item"},[t._v("\n\t\t\t\t\t无记录\n\t\t\t\t")]):t._e()],2)]):t._e(),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogCancel()}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogConfirm()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var v={name:"Workspace",components:{MenuUi:d,HeaderUi:s("VU/8")(h,m,!1,function(t){s("1loB")},"data-v-f6f9dbea",null).exports},data:function(){return{transitionName:"slide-left"}},methods:{warp:function(){this.$store.commit(i.i,!1),this.$store.state["menu-history"].length>0&&this.$store.commit(i.h,{item:this.$store.state["menu-history"][0],level:-1}),this.$refs.menu.reset()}},beforeCreate:function(){this.$store.commit(i.c)},mounted:function(){var t=this;this.$nextTick(function(){t.$store.commit(i.d)})}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"workspace"},on:{click:function(e){t.warp()}}},[s("menu-ui",{ref:"menu"}),t._v(" "),s("header-ui"),t._v(" "),s("transition",{attrs:{name:t.transitionName}},[s("router-view",{staticClass:"child-view"})],1)],1)},staticRenderFns:[]};var g=s("VU/8")(v,p,!1,function(t){s("keaF")},"data-v-36b8ad66",null);e.default=g.exports}});
//# sourceMappingURL=1.dc1c9f0b818c2555b362.js.map